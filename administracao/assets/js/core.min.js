var Formstone=window.Formstone=function(t,e,n,s){"use strict";var i=function(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=e,this.$window=t(e),this.document=n,this.$document=t(n),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=e.navigator.userAgent||e.navigator.vendor||e.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(e.File&&e.FileList&&e.FileReader),history:!!(e.history&&e.history.pushState&&e.history.replaceState),matchMedia:!(!e.matchMedia&&!e.msMatchMedia),pointer:!!e.PointerEvent,raf:!(!e.requestAnimationFrame||!e.cancelAnimationFrame),touch:!!("ontouchstart"in e||e.DocumentTouch&&n instanceof e.DocumentTouch),transition:!1,transform:!1}},r={killEvent:function(t,e){try{t.preventDefault(),t.stopPropagation(),e&&t.stopImmediatePropagation()}catch(t){}},startTimer:function(t,e,n,s){return r.clearTimer(t),s?setInterval(n,e):setTimeout(n,e)},clearTimer:function(t,e){t&&(e?clearInterval(t):clearTimeout(t),t=null)},sortAsc:function(t,e){return parseInt(t,10)-parseInt(e,10)},sortDesc:function(t,e){return parseInt(e,10)-parseInt(t,10)},decodeEntities:function(t){var e=o.document.createElement("textarea");return e.innerHTML=t,e.value},parseQueryString:function(t){for(var e={},n=t.slice(t.indexOf("?")+1).split("&"),s=0;s<n.length;s++){var i=n[s].split("=");e[i[0]]=i[1]}return e}},o=new i,a=t.Deferred(),l={base:"{ns}",element:"{ns}-element"},c={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};function u(t,e,n,s){var i,r={raw:{}};for(i in s=s||{})s.hasOwnProperty(i)&&("classes"===t?(r.raw[s[i]]=e+"-"+s[i],r[s[i]]="."+e+"-"+s[i]):(r.raw[i]=s[i],r[i]=s[i]+"."+e));for(i in n)n.hasOwnProperty(i)&&("classes"===t?(r.raw[i]=n[i].replace(/{ns}/g,e),r[i]=n[i].replace(/{ns}/g,"."+e)):(r.raw[i]=n[i].replace(/.{ns}/g,""),r[i]=n[i].replace(/{ns}/g,e)));return r}i.prototype.NoConflict=function(){for(var e in o.DontConflict=!0,o.Plugins)o.Plugins.hasOwnProperty(e)&&(t[e]=o.Conflicts[e],t.fn[e]=o.Conflicts.fn[e])},i.prototype.Plugin=function(s,i){return o.Plugins[s]=function(n,s){var i="fs-"+n,a="fs"+n.replace(/(^|\s)([a-z])/g,function(t,e,n){return e+n.toUpperCase()});function d(t){return t.data(a)}return s.initialized=!1,s.priority=s.priority||10,s.classes=u("classes",i,l,s.classes),s.events=u("events",n,c,s.events),s.functions=t.extend({getData:d,iterate:function(e){for(var n=0,s=this.length;n<s;n++){var i=this.eq(n),r=d(i)||{};"undefined"!==t.type(r.$el)&&e.apply(i,[r].concat(Array.prototype.slice.call(arguments,1)))}return this}},r,s.functions),s.methods=t.extend(!0,{_setup:t.noop,_construct:t.noop,_postConstruct:t.noop,_destruct:t.noop,_resize:!1,destroy:function(t){s.functions.iterate.apply(this,[s.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(s.classes.raw.element).removeData(a)}},s.methods),s.utilities=t.extend(!0,{_initialize:!1,_delegate:!1,defaults:function(e){s.defaults=t.extend(!0,s.defaults,e||{})}},s.utilities),s.widget&&(o.Conflicts.fn[n]=t.fn[n],t.fn[a]=function(e){if(this instanceof t){var i=s.methods[e];return"object"!==t.type(e)&&e?i&&0!==e.indexOf("_")?s.functions.iterate.apply(this,[i].concat(Array.prototype.slice.call(arguments,1))):this:function(e){var i,r,o,l="object"===t.type(e),c=t();for(e=t.extend(!0,{},s.defaults||{},l?e:{}),r=0,o=this.length;r<o;r++)if(!d(i=this.eq(r))){var u="__"+s.guid++,f=s.classes.raw.base+u,p=i.data(n+"-options"),h=t.extend(!0,{$el:i,guid:u,rawGuid:f,dotGuid:"."+f},e,"object"===t.type(p)?p:{});i.addClass(s.classes.raw.element).data(a,h),s.methods._construct.apply(i,[h].concat(Array.prototype.slice.call(arguments,l?1:0))),c=c.add(i)}for(r=0,o=c.length;r<o;r++)i=c.eq(r),s.methods._postConstruct.apply(i,[d(i)]);return this}.apply(this,arguments)}},o.DontConflict||(t.fn[n]=t.fn[a])),o.Conflicts[n]=t[n],t[a]=s.utilities._delegate||function(n){var i=s.utilities[n]||s.utilities._initialize||!1;if(i)return i.apply(e,Array.prototype.slice.call(arguments,"object"===t.type(n)?0:1))},o.DontConflict||(t[n]=t[a]),s.namespace=n,s.namespaceClean=a,s.guid=0,s.methods._resize&&(o.ResizeHandlers.push({namespace:n,priority:s.priority,callback:s.methods._resize}),o.ResizeHandlers.sort(m)),s.methods._raf&&(o.RAFHandlers.push({namespace:n,priority:s.priority,callback:s.methods._raf}),o.RAFHandlers.sort(m)),s}(s,i),a.then(function(){!function(t){o.Plugins[t].initialized||(o.Plugins[t].methods._setup.call(n),o.Plugins[t].initialized=!0)}(s)}),o.Plugins[s]};var d=null,f=20;function p(){o.windowWidth=o.$window.width(),o.windowHeight=o.$window.height(),d=r.startTimer(d,f,h)}function h(){for(var t in o.ResizeHandlers)o.ResizeHandlers.hasOwnProperty(t)&&o.ResizeHandlers[t].callback.call(e,o.windowWidth,o.windowHeight)}function m(t,e){return parseInt(t.priority)-parseInt(e.priority)}return o.$window.on("resize.fs",p),p(),function t(){if(o.support.raf)for(var n in o.window.requestAnimationFrame(t),o.RAFHandlers)o.RAFHandlers.hasOwnProperty(n)&&o.RAFHandlers[n].callback.call(e)}(),t(function(){o.$body=t("body"),a.resolve(),o.support.nativeMatchMedia=o.support.matchMedia&&!t("html").hasClass("no-matchmedia")}),c.clickTouchStart=c.click+" "+c.touchStart,function(){var t,e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},s=["transition","-webkit-transition"],i={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},r="transitionend",a="",l="",u=n.createElement("div");for(t in e)if(e.hasOwnProperty(t)&&t in u.style){r=e[t],o.support.transition=!0;break}for(t in c.transitionEnd=r+".{ns}",s)if(s.hasOwnProperty(t)&&s[t]in u.style){a=s[t];break}for(t in o.transition=a,i)if(i.hasOwnProperty(t)&&i[t]in u.style){o.support.transform=!0,l=i[t];break}o.transform=l}(),o}(jQuery,window,document);